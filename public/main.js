var socket=io("http://localhost:3000");function createMessage(a,d){var c=document.createElement("div");c.classList.add("answer");c.classList.add(a);var b=document.createElement("div");b.classList.add("text");b.textContent=d;c.appendChild(b);b=$(".cht");var e=b.height(),f=b.scrollTop(),g=b.get(0).scrollHeight;document.querySelector(".answers").appendChild(c);e+f==g&&b.scrollTop(999999)}document.querySelector(".m").addEventListener("keyup",function(a){a.preventDefault();13==a.keyCode&&document.querySelector(".send").click()});document.querySelector(".send").addEventListener("click",function(a){a.preventDefault();a=document.querySelector(".m");""!=a.value&&456<a.value.length||(createMessage("right",a.value),socket.emit("message",a.value),a.value="")});socket.on("new message",function(a){createMessage("left",a)});socket.on("refreshClients",function(a){$(".global-online").text("online: "+a)});